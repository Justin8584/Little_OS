# Little OS Project

A basic, educational "Operating System" kernel developed from scratch, focusing on understanding the boot process, low-level hardware interaction, interrupt handling, and implementing a simple interactive shell.

This project was developed following a step-by-step guide and debugging process.

## Features

* Boots via GRUB (Multiboot compliant).
* Initializes GDT (Global Descriptor Table) and IDT (Interrupt Descriptor Table).
* Handles basic hardware interrupts (Timer IRQ 0, Keyboard IRQ 1).
* Remaps the PIC (Programmable Interrupt Controller).
* Provides text output via the VGA Framebuffer.
* Implements basic I/O port communication (`inb`/`outb`).
* Includes a simple interactive command shell.
* Shell Commands:
  * `help`: Displays available commands.
  * `cls`: Clears the screen.
  * `echo [text]`: Prints the provided text.
  * `meminfo`: Displays basic memory information gathered by the bootloader (Multiboot).

## Target Platform

* **Architecture:** 32-bit x86 (IA-32)
* **Environment:** QEMU Emulator (`qemu-system-i386`)

## Development Environment Setup (Windows + WSL)

This project was developed using the Windows Subsystem for Linux (WSL) on Windows 11. The following steps outline the setup process using Ubuntu 22.04 LTS via WSL:

1. **Install WSL:**
    * Open Windows PowerShell or Command Prompt **as Administrator**.
    * Run the command:

        ```bash
        wsl --install
        ```

    * This typically installs the latest Ubuntu LTS. If you need a specific version or it doesn't install Ubuntu by default, check the `wsl --list --online` and `wsl --install -d <DistroName>` commands.
    * Restart your computer if prompted.
    * Launch the installed Linux distribution (e.g., Ubuntu) from the Windows Start Menu. Complete the initial user setup (username/password).

2. **Update Package Lists:**
    Open your WSL (Ubuntu) terminal and run:

    ```bash
    sudo apt update
    sudo apt upgrade -y
    ```

3. **Install Dependencies:**
    Install the necessary tools for building and running the OS:

    ```bash
    sudo apt install build-essential nasm qemu-system-x86 grub-pc-bin xorriso make -y
    ```

    * `build-essential`: Includes the GCC C compiler, `make`, and other development tools.
    * `nasm`: The Netwide Assembler for assembly files (`.s`).
    * `qemu-system-x86`: Provides the `qemu-system-i386` emulator needed to run the 32-bit OS.
    * `grub-pc-bin`: Provides GRUB utilities, including `grub-mkrescue` used by the Makefile to create the bootable ISO.
    * `xorriso`: Utility used by `grub-mkrescue` for ISO manipulation.
    * `make`: The build automation tool.

4. **Get the Source Code:**
    Clone the repository or place all the project source files (`*.c`, `*.h`, `*.s`, `Makefile`, `link.ld`, `grub.cfg`, `multiboot.h`) into a directory within your WSL filesystem (e.g., `~/Little_OS`).

## Build Instructions

1. Navigate to the project directory in your WSL terminal:

    ```bash
    cd /path/to/your/Little_OS
    ```

    (e.g., `cd ~/Little_OS`)

2. Run the `make` command:

    ```bash
    make
    ```

    This will compile the assembly and C files, link them into `kernel.elf`, and then create the bootable `little-os.iso` file using `grub-mkrescue`.

## Run Instructions

1. Make sure you have successfully built the project (`make`).
2. Run the OS in QEMU using the Makefile target:

    ```bash
    make run
    ```

    This executes `qemu-system-i386 -cdrom little-os.iso`.

3. QEMU will launch. GRUB should appear briefly, followed by the OS boot messages and the shell prompt (`>`).

4. **Exiting QEMU:** Press `Ctrl+Alt+G` to release the mouse cursor grab. You can then close the QEMU window. Alternatively, you can press `Ctrl+A` then `X` in the terminal where QEMU was launched.

## Project Structure

* `*.s`: Assembly language files (bootloader stub, GDT/IDT loading helpers, I/O ports).
* `*.c`: C language files (kernel main, framebuffer driver, GDT/IDT/interrupt handlers, shell logic, string utils).
* `*.h`: Header files for C code.
* `multiboot.h`: Standard Multiboot header definition file (obtained externally).
* `Makefile`: Defines build rules and targets (`all`, `run`, `clean`).
* `link.ld`: Linker script to control memory layout of the kernel.
* `grub.cfg`: GRUB configuration file used for the bootable ISO.
* `little-os.iso`: The final bootable ISO image (generated by `make`).
* `kernel.elf`: The linked kernel executable (Multiboot compliant).
* `*.o`: Object files (intermediate compilation output).

## File Structure

Little_OS/
├── Makefile
├── link.ld
├── grub.cfg
├── include/
│   ├── common.h
│   ├── fb.h
│   ├── gdt.h
│   ├── idt.h
│   ├── io.h
│   ├── multiboot.h
│   ├── shell.h
│   └── string.h
├── src/
│   ├── fb.c
│   ├── gdt.c
│   ├── idt.c
│   ├── interrupts.c
│   ├── kmain.c
│   ├── shell.c
│   └── string.c
├── arch/
│   └── i386/
│       ├── gdt_asm.s
│       ├── idt_asm.s
│       ├── io.s
│       └── loader.s
└── build/          # Will be created and populated by make
